{"ast":null,"code":"var _jsxFileName = \"/home/cliente/Trybe/trybe-projects/sd-08-project-recipes-app/src/pages/Bebidas.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport Header from '../components/header/Header';\nimport Footer from '../components/footer/Footer';\nimport LariContext from '../context/Context';\nimport Card from '../components/Card';\nimport { categoryDrink, seachDrinkByCategory } from '../services';\nimport '../styles/main.css';\n\nconst Drinks = () => {\n  const MAX_RECIPES = 12;\n  const MAX_CATEGORY = 5;\n  const {\n    recipesFetch,\n    drink,\n    nameIngredient,\n    setNameIngredient,\n    handleHeaderSearch\n  } = useContext(LariContext);\n  const [mapCards, setMapCards] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [filteredDrinks, setFilteredDrinks] = useState([]);\n  const [currentCategory, setCurrentCategory] = useState('All');\n  useEffect(() => {\n    setFilteredDrinks(drink);\n  }, [drink]);\n  useEffect(() => {\n    function fetchFetch() {\n      recipesFetch(false);\n    }\n\n    function fetchCategory() {\n      console.log('fetchCategory');\n      categoryDrink().then(response => setCategory(response));\n    }\n\n    fetchCategory();\n    fetchFetch();\n  }, []);\n  useEffect(() => {\n    const mapDrinks = () => setMapCards(filteredDrinks.map((beverage, index) => {\n      if (index < MAX_RECIPES) {\n        return /*#__PURE__*/React.createElement(Card, {\n          key: beverage.idDrink,\n          id: beverage.idDrink,\n          index: index,\n          name: beverage.strDrink,\n          thumbnail: beverage.strDrinkThumb,\n          isFood: false,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }\n        });\n      }\n\n      return '';\n    }));\n\n    mapDrinks();\n  }, [filteredDrinks]);\n\n  const fetchDrinkByCategory = async cat => {\n    if (currentCategory === cat) {\n      setFilteredDrinks(drink);\n      setCurrentCategory('All');\n    } else {\n      const result = await seachDrinkByCategory(cat);\n      setFilteredDrinks(result);\n      setCurrentCategory(cat);\n    }\n  };\n\n  const mapCategory = () => category.slice(0, MAX_CATEGORY).map((drinks, index) => /*#__PURE__*/React.createElement(\"label\", {\n    key: drinks.strCategory,\n    htmlFor: drinks.strCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, drinks.strCategory, /*#__PURE__*/React.createElement(\"input\", {\n    key: index,\n    type: \"radio\",\n    \"data-testid\": `${drinks.strCategory}-category-filter`,\n    onClick: () => fetchDrinkByCategory(drinks.strCategory),\n    checked: currentCategory === drinks.strCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  })));\n\n  useEffect(() => {\n    console.log('useEffect');\n\n    if (nameIngredient) {\n      handleHeaderSearch(nameIngredient, 'ingredients', 'Bebidas');\n      setNameIngredient('');\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Bebidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"radioBtns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, mapCategory(), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"All\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"All\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"All-category-filter\",\n    onClick: () => setFilteredDrinks(drink),\n    checked: currentCategory === 'All',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imgCards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, mapCards), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Drinks;","map":{"version":3,"sources":["/home/cliente/Trybe/trybe-projects/sd-08-project-recipes-app/src/pages/Bebidas.js"],"names":["React","useContext","useEffect","useState","Header","Footer","LariContext","Card","categoryDrink","seachDrinkByCategory","Drinks","MAX_RECIPES","MAX_CATEGORY","recipesFetch","drink","nameIngredient","setNameIngredient","handleHeaderSearch","mapCards","setMapCards","category","setCategory","filteredDrinks","setFilteredDrinks","currentCategory","setCurrentCategory","fetchFetch","fetchCategory","console","log","then","response","mapDrinks","map","beverage","index","idDrink","strDrink","strDrinkThumb","fetchDrinkByCategory","cat","result","mapCategory","slice","drinks","strCategory"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport Header from '../components/header/Header';\nimport Footer from '../components/footer/Footer';\nimport LariContext from '../context/Context';\nimport Card from '../components/Card';\nimport { categoryDrink, seachDrinkByCategory } from '../services';\nimport '../styles/main.css';\n\nconst Drinks = () => {\n  const MAX_RECIPES = 12;\n  const MAX_CATEGORY = 5;\n  const { recipesFetch,\n    drink,\n    nameIngredient,\n    setNameIngredient,\n    handleHeaderSearch } = useContext(LariContext);\n  const [mapCards, setMapCards] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [filteredDrinks, setFilteredDrinks] = useState([]);\n  const [currentCategory, setCurrentCategory] = useState('All');\n\n  useEffect(() => {\n    setFilteredDrinks(drink);\n  }, [drink]);\n\n  useEffect(() => {\n    function fetchFetch() {\n      recipesFetch(false);\n    }\n    function fetchCategory() {\n      console.log('fetchCategory');\n      categoryDrink()\n        .then((response) => setCategory(response));\n    }\n    fetchCategory();\n    fetchFetch();\n  }, []);\n\n  useEffect(() => {\n    const mapDrinks = () => (\n      setMapCards(\n        filteredDrinks.map((beverage, index) => {\n          if (index < MAX_RECIPES) {\n            return (\n              <Card\n                key={ beverage.idDrink }\n                id={ beverage.idDrink }\n                index={ index }\n                name={ beverage.strDrink }\n                thumbnail={ beverage.strDrinkThumb }\n                isFood={ false }\n              />\n            );\n          }\n          return '';\n        }),\n      )\n    );\n    mapDrinks();\n  }, [filteredDrinks]);\n\n  const fetchDrinkByCategory = async (cat) => {\n    if (currentCategory === cat) {\n      setFilteredDrinks(drink);\n      setCurrentCategory('All');\n    } else {\n      const result = await seachDrinkByCategory(cat);\n      setFilteredDrinks(result);\n      setCurrentCategory(cat);\n    }\n  };\n\n  const mapCategory = () => category.slice(0, MAX_CATEGORY).map((drinks, index) => (\n    <label key={ drinks.strCategory } htmlFor={ drinks.strCategory }>\n      {drinks.strCategory}\n      <input\n        key={ index }\n        type=\"radio\"\n        data-testid={ `${drinks.strCategory}-category-filter` }\n        onClick={ () => fetchDrinkByCategory(drinks.strCategory) }\n        checked={ currentCategory === drinks.strCategory }\n      />\n    </label>\n  ));\n  useEffect(() => {\n    console.log('useEffect');\n    if (nameIngredient) {\n      handleHeaderSearch(nameIngredient, 'ingredients', 'Bebidas');\n      setNameIngredient('');\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      <Header title=\"Bebidas\" />\n      <div className=\"radioBtns\">\n        {mapCategory()}\n        <label htmlFor=\"All\">\n          All\n          <input\n            type=\"radio\"\n            data-testid=\"All-category-filter\"\n            onClick={ () => setFilteredDrinks(drink) }\n            checked={ currentCategory === 'All' }\n          />\n        </label>\n      </div>\n      <div className=\"imgCards\">\n        {mapCards}\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Drinks;\n"]},"metadata":{},"sourceType":"module"}