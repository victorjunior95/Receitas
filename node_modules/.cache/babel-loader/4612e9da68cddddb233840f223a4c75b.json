{"ast":null,"code":"var _jsxFileName = \"/home/cliente/Trybe/trybe-projects/sd-08-project-recipes-app/src/pages/Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FiMail, FiLock } from 'react-icons/fi';\nimport '../styles/Login.css';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isDisabled, setIsDisabled] = useState(true);\n  const history = useHistory();\n  useEffect(() => {\n    const verifyFieldsValidation = () => {\n      const MINIMAL_PASSWORD_CHARS = 6; // Regex got from https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\n\n      const emailRegex = new RegExp(['^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s@\"]+)*)', '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])', '|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$'].join(''));\n      const isEmailValid = emailRegex.test(email);\n      const isPasswordValid = password.length > MINIMAL_PASSWORD_CHARS;\n      setIsDisabled(!(isEmailValid && isPasswordValid));\n    };\n\n    verifyFieldsValidation();\n  }, [email, password]);\n\n  const localStorages = e => {\n    e.preventDefault();\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({\n      email\n    }));\n    history.push('/comidas');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageOpacity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FiMail, {\n    size: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    \"data-testid\": \"email-input\",\n    placeholder: \"E-mail\",\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setEmail(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FiLock, {\n    size: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"password-input\",\n    type: \"password\",\n    placeholder: \"Senha\",\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setPassword(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"loginBtn\",\n    \"data-testid\": \"login-submit-btn\",\n    disabled: isDisabled,\n    onClick: localStorages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Entrar\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/cliente/Trybe/trybe-projects/sd-08-project-recipes-app/src/pages/Login.js"],"names":["React","useEffect","useState","useHistory","FiMail","FiLock","Login","email","setEmail","password","setPassword","isDisabled","setIsDisabled","history","verifyFieldsValidation","MINIMAL_PASSWORD_CHARS","emailRegex","RegExp","join","isEmailValid","test","isPasswordValid","length","localStorages","e","preventDefault","localStorage","setItem","JSON","stringify","push","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FiMail, FiLock } from 'react-icons/fi';\n\nimport '../styles/Login.css';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isDisabled, setIsDisabled] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    const verifyFieldsValidation = () => {\n      const MINIMAL_PASSWORD_CHARS = 6;\n\n      // Regex got from https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\n      const emailRegex = new RegExp([\n        '^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s@\"]+)*)',\n        '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])',\n        '|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$',\n      ].join(''));\n\n      const isEmailValid = emailRegex.test(email);\n      const isPasswordValid = password.length > MINIMAL_PASSWORD_CHARS;\n\n      setIsDisabled(!(isEmailValid && isPasswordValid));\n    };\n\n    verifyFieldsValidation();\n  }, [email, password]);\n\n  const localStorages = (e) => {\n    e.preventDefault();\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/comidas');\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      <div className=\"pageOpacity\" />\n\n      <div className=\"formContainer\">\n        <div className=\"inputContainer\">\n          <FiMail size={ 25 } />\n          <input\n            type=\"email\"\n            data-testid=\"email-input\"\n            placeholder=\"E-mail\"\n            onChange={ ({ target: { value } }) => setEmail(value) }\n          />\n        </div>\n        <div className=\"inputContainer\">\n          <FiLock size={ 25 } />\n          <input\n            data-testid=\"password-input\"\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={ ({ target: { value } }) => setPassword(value) }\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"loginBtn\"\n          data-testid=\"login-submit-btn\"\n          disabled={ isDisabled }\n          onClick={ localStorages }\n        >\n          Entrar\n        </button>\n      </div>\n    </div>\n\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}